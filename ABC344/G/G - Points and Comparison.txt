G - Points and Comparison
×
コンテスト開始
トヨタ自動車プログラミングコンテスト2024#3（AtCoder Beginner Contest 344）が開始されました。
閉じる
×
コンテスト終了
トヨタ自動車プログラミングコンテスト2024#3（AtCoder Beginner Contest 344）は終了しました。
閉じる
トヨタ自動車プログラミングコンテスト2024#3（AtCoder Beginner Contest 344）
日本語
日本語
English
新規登録
ログイン
コンテスト時間:
2024-03-09(土) 21:00
~
2024-03-09(土) 22:40
(100分)
AtCoderホームへ戻る
トップ
問題
質問
提出結果
すべての提出
順位表
バーチャル順位表
解説
G - Points and Comparison
解説
/
実行時間制限: 10 sec / メモリ制限: 1024 MB
配点 :
625
625
6
2
5
点
問題文
特殊な入力形式に注意してください。
x
y
xy
x
y
平面上に
N
N
N
個の点
(
X
i
,
Y
i
)
(X_i,Y_i)
(
X
i
​
,
Y
i
​
)
があります。これらの点の情報は入力から与えられます。
また、
Q
Q
Q
個の整数組
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
が与えられます。
f
(
A
j
,
B
j
)
f(A_j,B_j)
f
(
A
j
​
,
B
j
​
)
を
Y
i
≥
A
j
×
X
i
+
B
j
Y_i ge A_j times X_i + B_j
Y
i
​
≥
A
j
​
×
X
i
​
+
B
j
​
を満たす
i
i
i
の個数として定義します。
∑
j
=
1
Q
f
(
A
j
,
B
j
)
displaystyle sum^{Q}_{j=1} f(A_j,B_j)
j
=
1
∑
Q
​
f
(
A
j
​
,
B
j
​
)
を求めてください。
但し、この問題では
Q
Q
Q
が非常に大きくなるため、
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
は直接与えられません。
代わりに
G
0
,
R
a
,
R
b
G_0,R_a,R_b
G
0
​
,
R
a
​
,
R
b
​
が与えられ、
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
は以下の方法で生成されます。
まず、
n
≥
0
n ge 0
n
≥
0
に対して、
G
n
+
1
=
(
48271
×
G
n
)
m
o
d
(
2
31
−
1
)
G_{n+1} = (48271 times G_n) mod (2^{31}-1)
G
n
+
1
​
=
(
4
8
2
7
1
×
G
n
​
)
m
o
d
(
2
3
1
−
1
)
と定義します。
j
=
1
,
2
,
…
,
Q
j=1,2,dots,Q
j
=
1
,
2
,
…
,
Q
に対して、
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
を次のように生成します。
A
j
=
−
R
a
+
(
G
3
j
−
2
m
o
d
(
2
×
R
a
+
1
)
)
A_j = -R_a + (G_{3j - 2} mod (2 times R_a + 1) )
A
j
​
=
−
R
a
​
+
(
G
3
j
−
2
​
m
o
d
(
2
×
R
a
​
+
1
)
)
B
j
=
−
R
b
+
(
(
G
3
j
−
1
×
(
2
31
−
1
)
+
G
3
j
)
m
o
d
(
2
×
R
b
+
1
)
)
B_j = -R_b + ((G_{3j - 1} times (2^{31}-1) + G_{3 j}) mod (2 times R_b + 1) )
B
j
​
=
−
R
b
​
+
(
(
G
3
j
−
1
​
×
(
2
3
1
−
1
)
+
G
3
j
​
)
m
o
d
(
2
×
R
b
​
+
1
)
)
この生成法から、
A
j
,
B
j
A_j, B_j
A
j
​
,
B
j
​
は以下の制約を満たすことが示せます。
−
R
a
≤
A
j
≤
R
a
-R_a le A_j le R_a
−
R
a
​
≤
A
j
​
≤
R
a
​
−
R
b
≤
B
j
≤
R
b
-R_b le B_j le R_b
−
R
b
​
≤
B
j
​
≤
R
b
​
制約
入力は全て整数
1
≤
N
≤
5000
1 le N le 5000
1
≤
N
≤
5
0
0
0
1
≤
Q
≤
1
0
7
1 le Q le 10^7
1
≤
Q
≤
1
0
7
∣
X
i
∣
,
∣
Y
i
∣
≤
1
0
8
|X_i|, |Y_i| le 10^8
∣
X
i
​
∣
,
∣
Y
i
​
∣
≤
1
0
8
(
X
i
,
Y
i
)
(X_i,Y_i)
(
X
i
​
,
Y
i
​
)
は相異なる
0
≤
G
0
<
(
2
31
−
1
)
0 le G_0 < (2^{31}-1)
0
≤
G
0
​
<
(
2
3
1
−
1
)
0
≤
R
a
≤
1
0
8
0 le R_a le 10^8
0
≤
R
a
​
≤
1
0
8
0
≤
R
b
≤
1
0
16
0 le R_b le 10^{16}
0
≤
R
b
​
≤
1
0
1
6
入力
入力は以下の形式で標準入力から与えられる。
N
N
N
X
1
X_1
X
1
​
Y
1
Y_1
Y
1
​
X
2
X_2
X
2
​
Y
2
Y_2
Y
2
​
⋮
vdots
⋮
X
N
X_N
X
N
​
Y
N
Y_N
Y
N
​
Q
Q
Q
G
0
G_0
G
0
​
R
a
R_a
R
a
​
R
b
R_b
R
b
​
出力
答えを整数として出力せよ。
入力例 1
Copy
Copy
7
2 -2
-1 -2
0 1
2 1
-2 2
1 2
0 -1
10
1 5 5
出力例 1
Copy
Copy
36
この入力には
10
10
1
0
個の質問が含まれます。
生成された
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
は
(
−
2
,
4
)
,
(
0
,
2
)
,
(
−
4
,
−
2
)
,
(
4
,
−
5
)
,
(
3
,
1
)
,
(
−
1
,
3
)
,
(
2
,
−
5
)
,
(
3
,
−
1
)
,
(
3
,
5
)
,
(
3
,
−
2
)
(-2,4),(0,2),(-4,-2),(4,-5),(3,1),(-1,3),(2,-5),(3,-1),(3,5),(3,-2)
(
−
2
,
4
)
,
(
0
,
2
)
,
(
−
4
,
−
2
)
,
(
4
,
−
5
)
,
(
3
,
1
)
,
(
−
1
,
3
)
,
(
2
,
−
5
)
,
(
3
,
−
1
)
,
(
3
,
5
)
,
(
3
,
−
2
)
です。
Score:
625
625
6
2
5
points
Problem Statement
Pay attention to the special input format.
There are
N
N
N
points
(
X
i
,
Y
i
)
(X_i,Y_i)
(
X
i
​
,
Y
i
​
)
in the
x
y
xy
x
y
-plane. You are given these points in the input.
Also,
Q
Q
Q
pairs of integers
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
are given.
Define
f
(
A
j
,
B
j
)
f(A_j,B_j)
f
(
A
j
​
,
B
j
​
)
as the number of indices
i
i
i
satisfying
Y
i
≥
A
j
×
X
i
+
B
j
Y_i ge A_j times X_i + B_j
Y
i
​
≥
A
j
​
×
X
i
​
+
B
j
​
.
Find
∑
j
=
1
Q
f
(
A
j
,
B
j
)
displaystyle sum^{Q}_{j=1} f(A_j,B_j)
j
=
1
∑
Q
​
f
(
A
j
​
,
B
j
​
)
.
Here,
Q
Q
Q
gets very large, so
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
are not given directly.
Instead,
G
0
G_0
G
0
​
,
R
a
R_a
R
a
​
, and
R
b
R_b
R
b
​
are given, and
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
are generated as follows:
First, for
n
≥
0
n ge 0
n
≥
0
, define
G
n
+
1
=
(
48271
×
G
n
)
m
o
d
(
2
31
−
1
)
G_{n+1} = (48271 times G_n) mod (2^{31}-1)
G
n
+
1
​
=
(
4
8
2
7
1
×
G
n
​
)
m
o
d
(
2
3
1
−
1
)
.
For
j
=
1
,
2
,
…
,
Q
j=1,2,dots,Q
j
=
1
,
2
,
…
,
Q
, generate
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
as follows:
A
j
=
−
R
a
+
(
G
3
j
−
2
m
o
d
(
2
×
R
a
+
1
)
)
A_j = -R_a + (G_{3j - 2} mod (2 times R_a + 1) )
A
j
​
=
−
R
a
​
+
(
G
3
j
−
2
​
m
o
d
(
2
×
R
a
​
+
1
)
)
B
j
=
−
R
b
+
(
(
G
3
j
−
1
×
(
2
31
−
1
)
+
G
3
j
)
m
o
d
(
2
×
R
b
+
1
)
)
B_j = -R_b + ((G_{3j - 1} times (2^{31}-1) + G_{3 j}) mod (2 times R_b + 1) )
B
j
​
=
−
R
b
​
+
(
(
G
3
j
−
1
​
×
(
2
3
1
−
1
)
+
G
3
j
​
)
m
o
d
(
2
×
R
b
​
+
1
)
)
From this method, it can be shown that
A
j
A_j
A
j
​
and
B
j
B_j
B
j
​
satisfy the following constraints:
−
R
a
≤
A
j
≤
R
a
-R_a le A_j le R_a
−
R
a
​
≤
A
j
​
≤
R
a
​
−
R
b
≤
B
j
≤
R
b
-R_b le B_j le R_b
−
R
b
​
≤
B
j
​
≤
R
b
​
Constraints
All input values are integers.
1
≤
N
≤
5000
1 le N le 5000
1
≤
N
≤
5
0
0
0
1
≤
Q
≤
1
0
7
1 le Q le 10^7
1
≤
Q
≤
1
0
7
∣
X
i
∣
,
∣
Y
i
∣
≤
1
0
8
|X_i|, |Y_i| le 10^8
∣
X
i
​
∣
,
∣
Y
i
​
∣
≤
1
0
8
The pairs
(
X
i
,
Y
i
)
(X_i,Y_i)
(
X
i
​
,
Y
i
​
)
are distinct.
0
≤
G
0
<
(
2
31
−
1
)
0 le G_0 < (2^{31}-1)
0
≤
G
0
​
<
(
2
3
1
−
1
)
0
≤
R
a
≤
1
0
8
0 le R_a le 10^8
0
≤
R
a
​
≤
1
0
8
0
≤
R
b
≤
1
0
16
0 le R_b le 10^{16}
0
≤
R
b
​
≤
1
0
1
6
Input
The input is given from Standard Input in the following format:
N
N
N
X
1
X_1
X
1
​
Y
1
Y_1
Y
1
​
X
2
X_2
X
2
​
Y
2
Y_2
Y
2
​
⋮
vdots
⋮
X
N
X_N
X
N
​
Y
N
Y_N
Y
N
​
Q
Q
Q
G
0
G_0
G
0
​
R
a
R_a
R
a
​
R
b
R_b
R
b
​
Output
Print the answer as an integer.
Sample Input 1
Copy
Copy
7
2 -2
-1 -2
0 1
2 1
-2 2
1 2
0 -1
10
1 5 5
Sample Output 1
Copy
Copy
36
This input contains ten questions.
The generated
(
A
j
,
B
j
)
(A_j,B_j)
(
A
j
​
,
B
j
​
)
are
(
−
2
,
4
)
,
(
0
,
2
)
,
(
−
4
,
−
2
)
,
(
4
,
−
5
)
,
(
3
,
1
)
,
(
−
1
,
3
)
,
(
2
,
−
5
)
,
(
3
,
−
1
)
,
(
3
,
5
)
,
(
3
,
−
2
)
(-2,4),(0,2),(-4,-2),(4,-5),(3,1),(-1,3),(2,-5),(3,-1),(3,5),(3,-2)
(
−
2
,
4
)
,
(
0
,
2
)
,
(
−
4
,
−
2
)
,
(
4
,
−
5
)
,
(
3
,
1
)
,
(
−
1
,
3
)
,
(
2
,
−
5
)
,
(
3
,
−
1
)
,
(
3
,
5
)
,
(
3
,
−
2
)
.
Facebook
Twitter
Hatena
共有
ルール
用語集
利用規約
プライバシーポリシー
個人情報保護方針
企業情報
よくある質問
お問い合わせ
資料請求
Copyright Since 2012 ©
AtCoder Inc.
All rights reserved.
2024-03-18 (月)
00:22:39 +09:00
ページトップ
✓
共有ありがとう
AddToAny
もっと