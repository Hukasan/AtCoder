D - String Bags
×
コンテスト開始
トヨタ自動車プログラミングコンテスト2024#3（AtCoder Beginner Contest 344）が開始されました。
閉じる
×
コンテスト終了
トヨタ自動車プログラミングコンテスト2024#3（AtCoder Beginner Contest 344）は終了しました。
閉じる
トヨタ自動車プログラミングコンテスト2024#3（AtCoder Beginner Contest 344）
日本語
日本語
English
新規登録
ログイン
コンテスト時間:
2024-03-09(土) 21:00
~
2024-03-09(土) 22:40
(100分)
AtCoderホームへ戻る
トップ
問題
質問
提出結果
すべての提出
順位表
バーチャル順位表
解説
D - String Bags
解説
/
実行時間制限: 2 sec / メモリ制限: 1024 MB
配点 :
425
425
4
2
5
点
問題文
あなたは最初、空文字列
S
S
S
を持っています。
さらに、文字列がいくつか入った袋
1
,
2
,
…
,
N
1,2,dots,N
1
,
2
,
…
,
N
があります。
袋
i
i
i
には
A
i
A_i
A
i
​
個の文字列
S
i
,
1
,
S
i
,
2
,
…
,
S
i
,
A
i
S_{i,1},S_{i,2},dots,S_{i,A_i}
S
i
,
1
​
,
S
i
,
2
​
,
…
,
S
i
,
A
i
​
​
が入っています。
これから、以下の手順を
i
=
1
,
2
,
…
,
N
i=1,2,dots,N
i
=
1
,
2
,
…
,
N
について繰り返します。
以下のふたつの行動のうち、どちらかを選択して行う。
1
1
1
円を支払い、袋
i
i
i
からちょうどひとつの文字列を選択して
S
S
S
の末尾に連結する。
何もしない。
文字列
T
T
T
が与えられるとき、最終的に
S
S
S
と
T
T
T
を一致させるために必要な最小の金額を求めてください。
但し、どのようにしても最終的な
S
S
S
を
T
T
T
に一致させることができない場合、
-1
と出力してください。
制約
T
T
T
は長さ
1
1
1
以上
100
100
1
0
0
以下の英小文字からなる文字列
N
N
N
は
1
1
1
以上
100
100
1
0
0
以下の整数
A
i
A_i
A
i
​
は
1
1
1
以上
10
10
1
0
以下の整数
S
i
,
j
S_{i,j}
S
i
,
j
​
は長さ
1
1
1
以上
10
10
1
0
以下の英小文字からなる文字列
入力
入力は以下の形式で標準入力から与えられる。
T
T
T
N
N
N
A
1
A_1
A
1
​
S
1
,
1
S_{1,1}
S
1
,
1
​
S
1
,
2
S_{1,2}
S
1
,
2
​
…
dots
…
S
1
,
A
1
S_{1,A_1}
S
1
,
A
1
​
​
A
2
A_2
A
2
​
S
2
,
1
S_{2,1}
S
2
,
1
​
S
2
,
2
S_{2,2}
S
2
,
2
​
…
dots
…
S
2
,
A
2
S_{2,A_2}
S
2
,
A
2
​
​
⋮
vdots
⋮
A
N
A_N
A
N
​
S
N
,
1
S_{N,1}
S
N
,
1
​
S
N
,
2
S_{N,2}
S
N
,
2
​
…
dots
…
S
N
,
A
N
S_{N,A_N}
S
N
,
A
N
​
​
出力
答えを整数として出力せよ。
入力例 1
Copy
Copy
abcde
3
3 ab abc abcd
4 f c cd bcde
2 e de
出力例 1
Copy
Copy
2
例えば、以下のようにすると
2
2
2
円で最終的な
S
S
S
と
T
T
T
を一致させることができ、これが必要な金額の最低値であることが示せます。
i
=
1
i=1
i
=
1
について、袋
1
1
1
から
abc
を選択し
S
S
S
の末尾に連結する。
S
=
S=
S
=
abc
となる。
i
=
2
i=2
i
=
2
について、何もしない。
i
=
3
i=3
i
=
3
について、袋
3
3
3
から
de
を選択し
S
S
S
の末尾に連結する。
S
=
S=
S
=
abcde
となる。
入力例 2
Copy
Copy
abcde
3
2 ab abc
3 f c bcde
1 e
出力例 2
Copy
Copy
-1
どのようにしても最終的な
S
S
S
と
T
T
T
を一致させることができないので、
-1
と出力してください。
入力例 3
Copy
Copy
aaabbbbcccc
6
2 aa aaa
2 dd ddd
2 ab aabb
4 bbaa bbbc bbb bbcc
2 cc bcc
3 ccc cccc ccccc
出力例 3
Copy
Copy
4
Score:
425
425
4
2
5
points
Problem Statement
You initially have an empty string
S
S
S
.
Additionally, there are bags
1
,
2
,
…
,
N
1, 2, dots, N
1
,
2
,
…
,
N
, each containing some strings.
Bag
i
i
i
contains
A
i
A_i
A
i
​
strings
S
i
,
1
,
S
i
,
2
,
…
,
S
i
,
A
i
S_{i,1}, S_{i,2}, dots, S_{i,A_i}
S
i
,
1
​
,
S
i
,
2
​
,
…
,
S
i
,
A
i
​
​
.
You will repeat the following steps for
i
=
1
,
2
,
…
,
N
i = 1, 2, dots, N
i
=
1
,
2
,
…
,
N
:
Choose and perform one of the following two actions:
Pay
1
1
1
yen, select exactly one string from bag
i
i
i
, and concatenate it to the end of
S
S
S
.
Do nothing.
Given a string
T
T
T
, find the minimum amount of money required to make the final
S
S
S
equal
T
T
T
.
If there is no way to make the final
S
S
S
equal
T
T
T
, print
-1
.
Constraints
T
T
T
is a string consisting of lowercase English letters with length between
1
1
1
and
100
100
1
0
0
, inclusive.
N
N
N
is an integer between
1
1
1
and
100
100
1
0
0
, inclusive.
A
i
A_i
A
i
​
is an integer between
1
1
1
and
10
10
1
0
, inclusive.
S
i
,
j
S_{i,j}
S
i
,
j
​
is a string consisting of lowercase English letters with length between
1
1
1
and
10
10
1
0
, inclusive.
Input
The input is given from Standard Input in the following format:
T
T
T
N
N
N
A
1
A_1
A
1
​
S
1
,
1
S_{1,1}
S
1
,
1
​
S
1
,
2
S_{1,2}
S
1
,
2
​
…
dots
…
S
1
,
A
1
S_{1,A_1}
S
1
,
A
1
​
​
A
2
A_2
A
2
​
S
2
,
1
S_{2,1}
S
2
,
1
​
S
2
,
2
S_{2,2}
S
2
,
2
​
…
dots
…
S
2
,
A
2
S_{2,A_2}
S
2
,
A
2
​
​
⋮
vdots
⋮
A
N
A_N
A
N
​
S
N
,
1
S_{N,1}
S
N
,
1
​
S
N
,
2
S_{N,2}
S
N
,
2
​
…
dots
…
S
N
,
A
N
S_{N,A_N}
S
N
,
A
N
​
​
Output
Print the answer as an integer.
Sample Input 1
Copy
Copy
abcde
3
3 ab abc abcd
4 f c cd bcde
2 e de
Sample Output 1
Copy
Copy
2
For example, doing the following makes the final
S
S
S
equal
T
T
T
with two yen, which can be shown to be the minimum amount required.
For
i
=
1
i=1
i
=
1
, select
abc
from bag
1
1
1
and concatenate it to the end of
S
S
S
, making
S
=
S=
S
=
abc
.
For
i
=
2
i=2
i
=
2
, do nothing.
For
i
=
3
i=3
i
=
3
, select
de
from bag
3
3
3
and concatenate it to the end of
S
S
S
, making
S
=
S=
S
=
abcde
.
Sample Input 2
Copy
Copy
abcde
3
2 ab abc
3 f c bcde
1 e
Sample Output 2
Copy
Copy
-1
There is no way to make the final
S
S
S
equal
T
T
T
, so print
-1
.
Sample Input 3
Copy
Copy
aaabbbbcccc
6
2 aa aaa
2 dd ddd
2 ab aabb
4 bbaa bbbc bbb bbcc
2 cc bcc
3 ccc cccc ccccc
Sample Output 3
Copy
Copy
4
Facebook
Twitter
Hatena
共有
ルール
用語集
利用規約
プライバシーポリシー
個人情報保護方針
企業情報
よくある質問
お問い合わせ
資料請求
Copyright Since 2012 ©
AtCoder Inc.
All rights reserved.
2024-03-18 (月)
00:22:31 +09:00
ページトップ
✓
共有ありがとう
AddToAny
もっと