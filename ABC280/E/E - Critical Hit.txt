E - Critical Hit
×
コンテスト開始
デンソークリエイトプログラミングコンテスト2022 Winter(AtCoder Beginner Contest 280)が開始されました。
閉じる
×
コンテスト終了
デンソークリエイトプログラミングコンテスト2022 Winter(AtCoder Beginner Contest 280)は終了しました。
閉じる
デンソークリエイトプログラミングコンテスト2022 Winter(AtCoder Beginner Contest 280)
日本語
日本語
English
新規登録
ログイン
コンテスト時間:
2022-12-03(土) 21:00
~
2022-12-03(土) 22:40
(100分)
AtCoderホームへ戻る
トップ
問題
質問
提出結果
すべての提出
順位表
バーチャル順位表
解説
E - Critical Hit
解説
/
実行時間制限: 2 sec / メモリ制限: 1024 MB
配点 :
500
500
5
0
0
点
問題文
最初、体力が
N
N
N
であるモンスターが
1
1
1
体います。
高橋君はモンスターに対し、モンスターの体力が
1
1
1
以上残っている限り繰り返し攻撃を行います。
高橋君は
1
1
1
回の攻撃で、
P
100
frac{P}{100}
1
0
0
P
​
の確率でモンスターの体力を
2
2
2
減らし、
1
−
P
100
1-frac{P}{100}
1
−
1
0
0
P
​
の確率でモンスターの体力を
1
1
1
減らします。
モンスターの体力が
0
0
0
以下になるまでに行う攻撃回数の期待値を
mod
998244353
text{mod } 998244353
mod
9
9
8
2
4
4
3
5
3
で出力してください（注記参照）。
注記
求める期待値は必ず有限値かつ有理数となることが証明できます。また、この問題の制約下では、その値を互いに素な
2
2
2
つの整数
P
P
P
,
Q
Q
Q
を用いて
P
Q
frac{P}{Q}
Q
P
​
と表したとき、
R
×
Q
≡
P
(
m
o
d
998244353
)
R times Q equiv Ppmod{998244353}
R
×
Q
≡
P
(
m
o
d
9
9
8
2
4
4
3
5
3
)
かつ
0
≤
R
<
998244353
0 leq R lt 998244353
0
≤
R
<
9
9
8
2
4
4
3
5
3
を満たす整数
R
R
R
がただ一つ存在することが証明できます。この
R
R
R
を出力してください。
制約
1
≤
N
≤
2
×
1
0
5
1 leq N leq 2times 10^5
1
≤
N
≤
2
×
1
0
5
0
≤
P
≤
100
0 leq P leq 100
0
≤
P
≤
1
0
0
入力は全て整数
入力
入力は以下の形式で標準入力から与えられる。
N
N
N
P
P
P
出力
高橋君の攻撃回数の期待値を
mod
998244353
text{mod } 998244353
mod
9
9
8
2
4
4
3
5
3
で出力せよ。
入力例 1
Copy
Copy
3 10
出力例 1
Copy
Copy
229596204
高橋君は
1
1
1
回の攻撃で、
10
100
=
1
10
frac{10}{100}=frac{1}{10}
1
0
0
1
0
​
=
1
0
1
​
の確率でモンスターの体力を
2
2
2
減らし、
1
−
10
100
=
9
10
1-frac{10}{100}=frac{9}{10}
1
−
1
0
0
1
0
​
=
1
0
9
​
の確率でモンスターの体力を
1
1
1
減らします。
最初、モンスターの体力は
3
3
3
です。
1
1
1
回目の攻撃の後、
9
10
frac{9}{10}
1
0
9
​
の確率でモンスターの体力は
2
2
2
、
1
10
frac{1}{10}
1
0
1
​
の確率でモンスターの体力は
1
1
1
となります。
2
2
2
回目の攻撃の後、
81
100
frac{81}{100}
1
0
0
8
1
​
の確率でモンスターの体力は
1
1
1
、
18
100
frac{18}{100}
1
0
0
1
8
​
の確率でモンスターの体力は
0
0
0
、
1
100
frac{1}{100}
1
0
0
1
​
の確率でモンスターの体力は
−
1
-1
−
1
となります。
18
100
+
1
100
=
19
100
frac{18}{100}+frac{1}{100}=frac{19}{100}
1
0
0
1
8
​
+
1
0
0
1
​
=
1
0
0
1
9
​
の確率で体力は
0
0
0
以下となり、高橋君は
2
2
2
回で攻撃をやめます。
2
2
2
回目の攻撃の後で体力が
1
1
1
残っている場合、
3
3
3
回目の攻撃の後でモンスターの体力は必ず
0
0
0
以下となり、高橋君は
3
3
3
回で攻撃をやめます。
よって、期待値は
2
×
19
100
+
3
×
(
1
−
19
100
)
=
281
100
2times frac{19}{100}+3timesleft(1-frac{19}{100}right)=frac{281}{100}
2
×
1
0
0
1
9
​
+
3
×
(
1
−
1
0
0
1
9
​
)
=
1
0
0
2
8
1
​
となります。
229596204
×
100
≡
281
(
m
o
d
998244353
)
229596204 times 100 equiv 281pmod{998244353}
2
2
9
5
9
6
2
0
4
×
1
0
0
≡
2
8
1
(
m
o
d
9
9
8
2
4
4
3
5
3
)
であるため、
229596204
229596204
2
2
9
5
9
6
2
0
4
を出力します。
入力例 2
Copy
Copy
5 100
出力例 2
Copy
Copy
3
高橋君は
1
1
1
回の攻撃で、つねにモンスターの体力を
2
2
2
減らします。
2
2
2
回目の攻撃が終わった時点では体力が
5
−
2
×
2
=
1
5-2times 2=1
5
−
2
×
2
=
1
残っているため、
3
3
3
回目の攻撃を行う必要があります。
入力例 3
Copy
Copy
280 59
出力例 3
Copy
Copy
567484387
Score :
500
500
5
0
0
points
Problem Statement
There is a monster with initial stamina
N
N
N
.
Takahashi repeatedly attacks the monster while the monster's stamina remains
1
1
1
or greater.
An attack by Takahashi reduces the monster's stamina by
2
2
2
with probability
P
100
frac{P}{100}
1
0
0
P
​
and by
1
1
1
with probability
1
−
P
100
1-frac{P}{100}
1
−
1
0
0
P
​
.
Find the expected value, modulo
998244353
998244353
9
9
8
2
4
4
3
5
3
(see Notes), of the number of attacks before the monster's stamina becomes
0
0
0
or less.
Notes
We can prove that the sought expected value is always a finite rational number.  Moreover, under the Constraints of this problem, when the value is represented as
P
Q
frac{P}{Q}
Q
P
​
by two coprime integers
P
P
P
and
Q
Q
Q
, we can show that there exists a unique integer
R
R
R
such that
R
×
Q
≡
P
(
m
o
d
998244353
)
R times Q equiv Ppmod{998244353}
R
×
Q
≡
P
(
m
o
d
9
9
8
2
4
4
3
5
3
)
and
0
≤
R
<
998244353
0 leq R lt 998244353
0
≤
R
<
9
9
8
2
4
4
3
5
3
.  Print such
R
R
R
.
Constraints
1
≤
N
≤
2
×
1
0
5
1 leq N leq 2times 10^5
1
≤
N
≤
2
×
1
0
5
0
≤
P
≤
100
0 leq P leq 100
0
≤
P
≤
1
0
0
All values in the input are integers.
Input
The input is given from Standard Input in the following format:
N
N
N
P
P
P
Output
Find the expected value, modulo
998244353
998244353
9
9
8
2
4
4
3
5
3
, of the number of Takahashi's attacks.
Sample Input 1
Copy
Copy
3 10
Sample Output 1
Copy
Copy
229596204
An attack by Takahashi reduces the monster's stamina
by
2
2
2
with probability
10
100
=
1
10
frac{10}{100}=frac{1}{10}
1
0
0
1
0
​
=
1
0
1
​
and by
1
1
1
with probability
100
−
10
100
=
9
10
frac{100-10}{100}=frac{9}{10}
1
0
0
1
0
0
−
1
0
​
=
1
0
9
​
.
The monster's initial stamina is
3
3
3
.
After the first attack, the monster's stamina is
2
2
2
with probability
9
10
frac{9}{10}
1
0
9
​
and
1
1
1
with probability
1
10
frac{1}{10}
1
0
1
​
.
After the second attack, the monster's stamina is
1
1
1
with probability
81
100
frac{81}{100}
1
0
0
8
1
​
,
0
0
0
with probability
18
100
frac{18}{100}
1
0
0
1
8
​
, and
−
1
-1
−
1
with probability
1
100
frac{1}{100}
1
0
0
1
​
.  With probability
18
100
+
1
100
=
19
100
frac{18}{100}+frac{1}{100}=frac{19}{100}
1
0
0
1
8
​
+
1
0
0
1
​
=
1
0
0
1
9
​
, the stamina becomes
0
0
0
or less, and Takahashi stops attacking after two attacks.
If the stamina remains
1
1
1
after two attacks, the monster's stamina always becomes
0
0
0
or less by the third attack, so he stops attacking after three attacks.
Therefore, the expected value is
2
×
19
100
+
3
×
(
1
−
19
100
)
=
281
100
2times frac{19}{100}+3timesleft(1-frac{19}{100}right)=frac{281}{100}
2
×
1
0
0
1
9
​
+
3
×
(
1
−
1
0
0
1
9
​
)
=
1
0
0
2
8
1
​
.  Since
229596204
×
100
≡
281
(
m
o
d
998244353
)
229596204 times 100 equiv 281pmod{998244353}
2
2
9
5
9
6
2
0
4
×
1
0
0
≡
2
8
1
(
m
o
d
9
9
8
2
4
4
3
5
3
)
, print
229596204
229596204
2
2
9
5
9
6
2
0
4
.
Sample Input 2
Copy
Copy
5 100
Sample Output 2
Copy
Copy
3
Takahashi's attack always reduces the monster's stamina by
2
2
2
.
After the second attack, the stamina remains
5
−
2
×
2
=
1
5-2times 2=1
5
−
2
×
2
=
1
, so the third one is required.
Sample Input 3
Copy
Copy
280 59
Sample Output 3
Copy
Copy
567484387
Facebook
Twitter
Hatena
共有
ルール
用語集
利用規約
プライバシーポリシー
個人情報保護方針
企業情報
よくある質問
お問い合わせ
資料請求
Copyright Since 2012 ©
AtCoder Inc.
All rights reserved.
2024-03-19 (火)
18:06:23 +09:00
ページトップ
✓
共有ありがとう
AddToAny
もっと